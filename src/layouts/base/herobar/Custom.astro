---
import HeroBar from "./Common.astro";
import { FormatRelativePath } from "@c/utils";
import { YmDesc, findHrefByLabel } from "@config";

const relativePath = FormatRelativePath(Astro.url.pathname);
const ymVer = relativePath.split("/")[0];

const { title, desc, tabs } = YmDesc[ymVer];

const link = tabs.map(({ label, href }) => ({
  label,
  href: `${import.meta.env.BASE_URL}${ymVer}` + (href ? `/${href}` : ""),
}));

const tabTitle = findHrefByLabel(link, import.meta.env.BASE_URL + relativePath);
---

<HeroBar title={`${tabTitle} - ${title}`} subt={desc} link={link} />
