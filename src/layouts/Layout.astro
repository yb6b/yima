---
import BaseLayout from "./base/Layout.astro";
import HeroNavBar from "./base/herobar/Custom.astro";
import { FormatRelativePath } from "@c/utils";
import { YmDesc, findHrefByLabel } from "@config";

const relativePath = FormatRelativePath(Astro.url.pathname);
const ymVer = relativePath.split("/")[0];

const { title, desc, tabs } = YmDesc[ymVer];

const link = tabs.map(({ label, href }) => ({
  label,
  href: `${import.meta.env.BASE_URL}${ymVer}` + (href ? `/${href}` : ""),
}));

const tabTitle = findHrefByLabel(link, import.meta.env.BASE_URL + relativePath);

const customTitle = `${tabTitle} - ${title}`;
---

<BaseLayout title={customTitle} description={desc}>
  <HeroNavBar />
  <div class="container is-max-desktop p-5 mt-2 content">
    <slot />
  </div>
</BaseLayout>
